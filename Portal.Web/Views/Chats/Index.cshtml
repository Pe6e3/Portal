@using Portal.DAL.Entities;
@model IEnumerable<Chat>

<h1>Список чатов</h1>


@if (Model.Any())
{
    <div class="container">
        <div class="row">


            <table class="cinereousTable">

                <thead>
                    <tr>
                        <th>Название чата</th>
                        <th>Дата создания</th>
                        <th>Количество участников</th>
                        <th>Изображение</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (Chat chat in Model)
                    {
                        <tr>
                            <td>@chat.ChatName@chat.Id</td>
                            <td>@chat.CreatedAt</td>
                            <td>@chat.UserCount</td>
                            <td><img src="/img/uploads/Chats/@chat.ChatIMG" style="height: 100px; border-radius:5px;" /></td>
                        </tr>
                    }
                </tbody>
            </table>

        </div>
    </div>
}
else
{
    <p>Нет доступных чатов.</p>
}

<div>
    <form method="post" asp-action="AddNewChat" asp-controller="Chats">
        <button type="submit">Добавить новый чат</button>
    </form>
</div>


<h2>Добавить пользователя в чат</h2>

<form method="post" asp-action="AddUserToChat" asp-controller="Chats">
    <div>
        <label for="chatId">Номер чата:</label>
        <input type="number" id="chatId" name="chatId" required>
    </div>
    <div>
        <label for="userId">ID пользователя:</label>
        <input type="number" id="userId" name="userId" required>
    </div>
    <button type="submit">Добавить пользователя</button>
</form>



<style>
    table.cinereousTable {
        border: 6px solid #948473;
        background-color: #FFE3C6;
        width: 100%;
        text-align: center;
    }

        table.cinereousTable td, table.cinereousTable th {
            border: 1px solid #948473;
            padding: 4px 4px;
        }

        table.cinereousTable tbody td {
            font-size: 13px;
        }

        table.cinereousTable thead {
            background: #948473;
            background: -moz-linear-gradient(top, #afa396 0%, #9e9081 66%, #948473 100%);
            background: -webkit-linear-gradient(top, #afa396 0%, #9e9081 66%, #948473 100%);
            background: linear-gradient(to bottom, #afa396 0%, #9e9081 66%, #948473 100%);
        }

            table.cinereousTable thead th {
                font-size: 17px;
                font-weight: bold;
                color: #F0F0F0;
                text-align: left;
                border-left: 2px solid #948473;
            }

                table.cinereousTable thead th:first-child {
                    border-left: none;
                }

        table.cinereousTable tfoot {
            font-size: 16px;
            font-weight: bold;
            color: #F0F0F0;
            background: #948473;
            background: -moz-linear-gradient(top, #afa396 0%, #9e9081 66%, #948473 100%);
            background: -webkit-linear-gradient(top, #afa396 0%, #9e9081 66%, #948473 100%);
            background: linear-gradient(to bottom, #afa396 0%, #9e9081 66%, #948473 100%);
        }

            table.cinereousTable tfoot td {
                font-size: 16px;
            }
</style>